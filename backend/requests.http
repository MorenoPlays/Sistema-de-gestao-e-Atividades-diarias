### Star Step Game - Exemplos de Requisi√ß√µes HTTP

## üîê AUTENTICA√á√ÉO

### Registrar (Criar Empresa + Admin User)
POST http://localhost:3001/api/auth/register
Content-Type: application/json

{
  "name": "Jo√£o Silva",
  "email": "joao@empresa.com",
  "password": "Senha123!",
  "companyName": "Tech Solutions Angola",
  "phone": "+244923456789"
}

### Login
POST http://localhost:3001/api/auth/login
Content-Type: application/json

{
  "email": "joao@empresa.com",
  "password": "Senha123!"
}

### Verificar Token
GET http://localhost:3001/api/auth/me
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

---

## üë• USU√ÅRIOS

### Criar Novo Usu√°rio (Admin Only)
POST http://localhost:3001/api/users
Authorization: Bearer YOUR_ADMIN_TOKEN
Content-Type: application/json

{
  "name": "Maria Santos",
  "email": "maria@empresa.com",
  "password": "MariaSenha123!",
  "role": "EMPLOYEE"
}

### Listar Todos os Usu√°rios
GET http://localhost:3001/api/users
Authorization: Bearer YOUR_TOKEN

### Obter Dados do Usu√°rio Atual
GET http://localhost:3001/api/users/me
Authorization: Bearer YOUR_TOKEN

### Obter Usu√°rio Espec√≠fico
GET http://localhost:3001/api/users/clp7h3z3r0000w8xp8qkz9z3z
Authorization: Bearer YOUR_TOKEN

### Atualizar Usu√°rio (Admin ou o pr√≥prio)
PUT http://localhost:3001/api/users/clp7h3z3r0000w8xp8qkz9z3z
Authorization: Bearer YOUR_TOKEN
Content-Type: application/json

{
  "name": "Maria dos Santos",
  "phone": "+244923000000",
  "role": "MANAGER"
}

### Alterar Senha
POST http://localhost:3001/api/users/clp7h3z3r0000w8xp8qkz9z3z/change-password
Authorization: Bearer YOUR_TOKEN
Content-Type: application/json

{
  "oldPassword": "MariaSenha123!",
  "newPassword": "NovaSenh@456"
}

### Desativar Usu√°rio (Admin)
POST http://localhost:3001/api/users/clp7h3z3r0000w8xp8qkz9z3z/deactivate
Authorization: Bearer YOUR_ADMIN_TOKEN

### Ativar Usu√°rio (Admin)
POST http://localhost:3001/api/users/clp7h3z3r0000w8xp8qkz9z3z/activate
Authorization: Bearer YOUR_ADMIN_TOKEN

### Deletar Usu√°rio (Admin)
DELETE http://localhost:3001/api/users/clp7h3z3r0000w8xp8qkz9z3z
Authorization: Bearer YOUR_ADMIN_TOKEN

---

## üè¢ EMPRESA

### Obter Informa√ß√µes da Empresa
GET http://localhost:3001/api/company
Authorization: Bearer YOUR_TOKEN

### Atualizar Empresa (Admin)
PUT http://localhost:3001/api/company
Authorization: Bearer YOUR_ADMIN_TOKEN
Content-Type: application/json

{
  "name": "Tech Solutions Angola LTDA",
  "email": "contato@techsolutions.com",
  "phone": "+244222123456",
  "address": "Rua Principal, 123",
  "city": "Luanda",
  "logoUrl": "https://example.com/logo.png",
  "timezone": "Africa/Luanda"
}

### Obter Estat√≠sticas da Empresa
GET http://localhost:3001/api/company/stats
Authorization: Bearer YOUR_TOKEN

### Listar Usu√°rios da Empresa
GET http://localhost:3001/api/company/users
Authorization: Bearer YOUR_TOKEN

---

## üìã ATIVIDADES

### Criar Atividade
POST http://localhost:3001/api/activities
Authorization: Bearer YOUR_TOKEN
Content-Type: application/json

{
  "date": "2026-02-11T10:00:00Z",
  "description": "Desenvolvimento de features no portal",
  "hoursStart": "08:00",
  "hoursEnd": "16:30",
  "moneyIn": 5000.50,
  "moneyOut": 1200.00
}

### Listar Atividades (com filtros opcionais)
GET http://localhost:3001/api/activities
Authorization: Bearer YOUR_TOKEN

### Listar Atividades com Filtro de Data
GET http://localhost:3001/api/activities?startDate=2026-02-01&endDate=2026-02-28
Authorization: Bearer YOUR_TOKEN

### Listar Atividades de um Usu√°rio Espec√≠fico
GET http://localhost:3001/api/activities?userId=clp7h3z3r0000w8xp8qkz9z3z
Authorization: Bearer YOUR_TOKEN

### Obter Atividade Espec√≠fica
GET http://localhost:3001/api/activities/clp7h3z3r0000w8xp8qkz9z3z
Authorization: Bearer YOUR_TOKEN

### Atualizar Atividade
PUT http://localhost:3001/api/activities/clp7h3z3r0000w8xp8qkz9z3z
Authorization: Bearer YOUR_TOKEN
Content-Type: application/json

{
  "description": "Desenvolvimento de features - Vers√£o 2",
  "hoursStart": "08:30",
  "hoursEnd": "17:00",
  "moneyIn": 5500.00,
  "moneyOut": 1500.00
}

### Deletar Atividade
DELETE http://localhost:3001/api/activities/clp7h3z3r0000w8xp8qkz9z3z
Authorization: Bearer YOUR_TOKEN

### Obter Atividades de um Usu√°rio
GET http://localhost:3001/api/activities/user/clp7h3z3r0000w8xp8qkz9z3z
Authorization: Bearer YOUR_TOKEN

### Fecho Di√°rio (Dia Espec√≠fico)
GET http://localhost:3001/api/activities/daily-closure/2026-02-11
Authorization: Bearer YOUR_TOKEN

### Relat√≥rio Mensal
GET http://localhost:3001/api/activities/monthly-report/2/2026
Authorization: Bearer YOUR_TOKEN

---

## üí∞ SAL√ÅRIOS

### Criar Folha de Sal√°rio (Admin/Manager)
POST http://localhost:3001/api/salaries
Authorization: Bearer YOUR_ADMIN_TOKEN
Content-Type: application/json

{
  "month": 2,
  "year": 2026,
  "userId": "clp7h3z3r0000w8xp8qkz9z3z",
  "baseSalary": 250000,
  "deductions": 25000
}

### Listar Folhas de Sal√°rio da Empresa
GET http://localhost:3001/api/salaries
Authorization: Bearer YOUR_TOKEN

### Obter Folha de Sal√°rio Espec√≠fica
GET http://localhost:3001/api/salaries/clp7h3z3r0000w8xp8qkz9z3z
Authorization: Bearer YOUR_TOKEN

### Atualizar Folha de Sal√°rio
PUT http://localhost:3001/api/salaries/clp7h3z3r0000w8xp8qkz9z3z
Authorization: Bearer YOUR_ADMIN_TOKEN
Content-Type: application/json

{
  "baseSalary": 260000,
  "deductions": 30000
}

### Deletar Folha de Sal√°rio (Admin)
DELETE http://localhost:3001/api/salaries/clp7h3z3r0000w8xp8qkz9z3z
Authorization: Bearer YOUR_ADMIN_TOKEN

### Obter Folhas de Sal√°rio de um Usu√°rio
GET http://localhost:3001/api/salaries/user/clp7h3z3r0000w8xp8qkz9z3z
Authorization: Bearer YOUR_TOKEN

### Relat√≥rio de Sal√°rios do M√™s
GET http://localhost:3001/api/salaries/report/2/2026
Authorization: Bearer YOUR_TOKEN

---

## üîç RESPOSTAS DE SUCESSO

### Sucesso 200/201
{
  "success": true,
  "message": "Opera√ß√£o realizada com sucesso",
  "data": { /* dados retornados */ }
}

---

## ‚ö†Ô∏è ERROS COMUNS

### 401 - Token n√£o fornecido ou inv√°lido
{
  "success": false,
  "message": "Token inv√°lido ou expirado"
}

### 403 - Acesso n√£o autorizado
{
  "success": false,
  "message": "Acesso restrito a administradores"
}

### 404 - Recurso n√£o encontrado
{
  "success": false,
  "message": "Usu√°rio n√£o encontrado"
}

### 400 - Valida√ß√£o falhou
{
  "success": false,
  "message": "Valida√ß√£o falhou",
  "error": [
    {
      "path": ["email"],
      "message": "Email inv√°lido"
    }
  ]
}

---

## üí° DICAS

1. **Salvar Token**: Ap√≥s login/register, guardar o token em localStorage
2. **Header Authorization**: Sempre incluir `Authorization: Bearer TOKEN` nas requisi√ß√µes protegidas
3. **JSON Headers**: Incluir `Content-Type: application/json` em POST/PUT
4. **CORS**: Se erro CORS, verificar `CORS_ORIGIN` no `.env`
5. **Datas ISO**: Usar formato ISO 8601 (2026-02-11T10:00:00Z)
6. **Hor√°rios**: Usar formato HH:MM (08:00, 16:30)
7. **Roles**: ADMIN, MANAGER, EMPLOYEE

---

## üß™ TESTAR COM cURL

```bash
# 1. Registrar
curl -X POST http://localhost:3001/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"name":"Jo√£o","email":"joao@test.com","password":"Teste123","companyName":"MyCompany"}'

# 2. Login (salvar token)
TOKEN=$(curl -X POST http://localhost:3001/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"joao@test.com","password":"Teste123"}' \
  | jq -r '.data.token')

# 3. Criar atividade
curl -X POST http://localhost:3001/api/activities \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "date":"2026-02-11T10:00:00Z",
    "description":"Test",
    "hoursStart":"08:00",
    "hoursEnd":"16:00",
    "moneyIn":1000,
    "moneyOut":500
  }'
```

---

Feito! Agora voc√™ tem todos os exemplos de requisi√ß√µes. üéâ
